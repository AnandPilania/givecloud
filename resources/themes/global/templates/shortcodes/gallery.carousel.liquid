
{% assign crop = parameters.crop | default : 'entropy' %}
{% assign size = parameters.size | default : 600 %}

<div id="{{ id }}" class="carousel slide py-5" data-ride="carousel">
  <div class="carousel-inner">
    {% for image in images %}
      <div class="carousel-item {% if forloop.first == true %}active{% endif %}">
        <a class="d-block rounded w-100" data-fancybox="gallery-{{ id }}" href="{{ image | img_url : '1280x960' }}" data-caption="{{ image.caption | escape }}" style="background:url('{{ image | img_url : size, crop: crop }}') no-repeat center center; background-size:cover; width:100%; height:0; padding-bottom:100%;">&nbsp;</a>
      </div>
    {% endfor %}
  </div>
  <a class="carousel-control-prev" href="#{{ id }}" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">{{ 'shortcodes.gallery_carousel.previous' | t }}</span>
  </a>
  <a class="carousel-control-next" href="#{{ id }}" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">{{ 'shortcodes.gallery_carousel.next' | t }}</span>
  </a>
</div>
